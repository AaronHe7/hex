{"version":3,"sources":["components/css/game.module.scss","components/Hex.js","components/AntiHex.js","components/RandomPlayer.js","components/Mcts.js","components/DarkHex.js","components/Game.js","components/App.js","index.js"],"names":["module","exports","Hex","width","height","this","WIDTH","HEIGHT","currentPlayer","gameOver","winner","board","Array","searched","searchedQueue","i","fill","moveHistory","hex","move","push","r","c","inBound","findWin","pop","f","result","dfs","cell","visited","found","neighbors","neighbor","f1","f2","Math","ceil","length","connectTop","connectBottom","connectLeft","connectRight","connect1","findConnection","connect2","AntiHex","gameOverBefore","RandomPlayer","moves","view","j","floor","random","prototype","shuffle","Status","Node","parent","undefined","moveIndex","wins","games","copy","childMoves","children","status","sqrt","log","Infinity","best","child","evaluate","select","childHex","backpropagate","simulate","undo","Mcts","rootNode","simulations","node","expand","bestChild","console","time","Date","getTime","bestMove","DarkHex","taken","Game","props","canvasRef","React","createRef","statusRef","statusRef2","modeRef","heightRef","widthRef","redRef","blueRef","s","includes","parseInt","canvas","current","ctx","getContext","WHITE","BLACK","RED","BLUE","interval","setInterval","update","draw","_this","addEventListener","e","rect","getBoundingClientRect","ratioX","ratioY","x","clientX","left","y","clientY","top","mousePressed","isInteger","value","aiRed","aiBlue","mode","hexagons","cellSize","max","center","getCenter","k","angle","PI","cos","sin","row","col","s60","strokeStyle","lineWidth","points","beginPath","moveTo","lineTo","stroke","coords","bottom","right","updatePlayer","fillStyle","drawCell","color","arc","status2","textContent","classList","remove","styles","blue","add","red","playerClass","playerString","manualMove","times","cellCoords","getCell","class","container","controlsContainer","controls","href","for","name","id","ref","type","min","defaultValue","onClick","startGame","undoButtons","undoButton","game","className","style","Component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcb99b6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"game_status__2JA7C\",\"statusRef\":\"game_statusRef__2spNS\",\"red\":\"game_red__AsdVU\",\"blue\":\"game_blue__2EDZp\",\"container\":\"game_container__2ViGJ\",\"controlsContainer\":\"game_controlsContainer__3hr-m\",\"controls\":\"game_controls__2ZQJd\",\"undoButtons\":\"game_undoButtons__2p-VW\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Hex {\n    constructor(width = 11, height = 11) {\n        this.WIDTH = width;\n        this.HEIGHT = height;\n        this.currentPlayer = 1;\n        this.gameOver = false;\n        this.winner = 0;\n        // 0 empty 1 red, -1 blue\n        this.board = new Array(this.HEIGHT);\n        // for the dfs function, marks whether cell has been searched\n        this.searched = new Array(this.HEIGHT);\n        // list of all cells that have been searched\n        this.searchedQueue = [];\n        for (let i = 0; i < this.HEIGHT; i++) {\n            this.board[i] = new Array(this.WIDTH).fill(0);\n            this.searched[i] = new Array(this.WIDTH).fill(false);\n        }\n        this.moveHistory = [];\n    }\n    copy() {\n        let hex = new Hex(this.WIDTH, this.HEIGHT);\n        hex.currentPlayer = this.currentPlayer;\n        hex.gameOver = this.gameOver;\n        hex.winner = this.winner;\n        for (let move of this.moveHistory) {\n            hex.board[move[0]][move[1]] = this.board[move[0]][move[1]];\n            hex.moveHistory.push([...move]);\n        }\n        return hex;\n    }\n    move(r, c) {\n        if (this.board[r][c] !== 0 || this.gameOver || !this.inBound(r, c)) {\n            return false;\n        }\n        this.board[r][c] = this.currentPlayer;\n        this.moveHistory.push([r, c]);\n        if (this.findWin(r, c)) {\n            this.winner = this.currentPlayer;\n            this.gameOver = true;\n        }\n        this.currentPlayer *= -1;\n        return true;\n    }\n    undo() {\n        let move = this.moveHistory.pop();\n        if (move) {\n            this.gameOver = false;\n            this.currentPlayer *= -1;\n            this.winner = 0;\n            this.board[move[0]][move[1]] = 0;\n        }\n    }\n    findConnection(r, c, f) {\n        let result = this.dfs(r, c, f);\n        for (let cell of this.searchedQueue) {\n            this.searched[cell[0]][cell[1]] = false;\n        }\n        this.searchedQueue = [];\n        return result;\n    }\n    dfs(r, c, f) {\n        this.visited++;\n        if (!this.inBound(r, c) || this.board[r][c] !== this.currentPlayer) {\n            return false;\n        }\n        if (f(r, c)) {\n            return true;\n        }\n        let found = false;\n        let neighbors = this.neighbors(r, c);\n        this.searched[r][c] = true;\n        this.searchedQueue.push([r, c]);\n        for (let neighbor of neighbors) {\n            if (this.inBound(...neighbor) && !this.searched[neighbor[0]][neighbor[1]]) {\n                if (this.dfs(...neighbor, f)) {\n                    found = true;\n                    break;\n                }\n            }\n        }\n        return found;\n    }\n    inBound(r, c) {\n        return r >= 0 && c >= 0 && r < this.HEIGHT && c < this.WIDTH;\n    }\n    neighbors(r, c) {\n        return [[r - 1, c], [r - 1, c + 1], [r, c + 1], [r + 1, c], [r + 1, c - 1], [r, c - 1]]\n    }\n    connectTop(r, c) {\n        return r <= 0;\n    }\n    connectBottom(r, c) {\n        return r >= this.HEIGHT - 1;\n    }\n    connectLeft(r, c) {\n        return c <= 0;\n    }\n    connectRight(r, c) {\n        return c >= this.WIDTH - 1;\n    }\n    findWin(r, c) {\n        let numMoves = Math.ceil(this.moveHistory.length / 2);\n        if (numMoves < (this.currentPlayer > 0 ? this.HEIGHT : this.WIDTH)) {\n            return false;\n        }\n        let f1, f2;\n        // red connects top and bottom\n        if (this.currentPlayer > 0) {\n            f1 = (r, c) => this.connectTop(r, c);\n            f2 = (r, c) => this.connectBottom(r, c);\n        } else {\n            f1 = (r, c) => this.connectLeft(r, c);\n            f2 = (r, c) => this.connectRight(r, c);\n        }\n        let connect1 = this.findConnection(r, c, f1);\n        if (!connect1) return false;\n        let connect2 = this.findConnection(r, c, f2);\n        return connect1 && connect2;\n    }\n}\n","import Hex from \"./Hex\";\n\nexport default class AntiHex extends Hex {\n    constructor(width, height) {\n        super(width, height);\n    }\n    move(r, c) {\n        let gameOverBefore = this.gameOver;\n        super.move(r, c);\n        if (gameOverBefore != this.gameOver) {\n            this.winner *= -1;\n        }\n    }\n    copy() {\n        let hex = new AntiHex(this.WIDTH, this.HEIGHT);\n        hex.currentPlayer = this.currentPlayer;\n        hex.gameOver = this.gameOver;\n        hex.winner = this.winner;\n        for (let move of this.moveHistory) {\n            hex.board[move[0]][move[1]] = this.board[move[0]][move[1]];\n            hex.moveHistory.push([...move]);\n        }\n        return hex;\n    }\n}","export default class RandomPlayer {\n    constructor(hex) {\n        this.hex = hex;\n    }\n    move() {\n        let moves = [];\n        let board;\n        if (this.hex.view) {\n            board = this.hex.view[this.hex.currentPlayer];\n        } else {\n            board = this.hex.board;\n        }\n        for (let i = 0; i < this.hex.HEIGHT; i++) {\n            for (let j = 0; j < this.hex.WIDTH; j++) {\n                if (!board[i][j]) {\n                    moves.push([i, j])\n                }\n            }\n        }\n        if (!moves.length) return;\n        // cloning move by move avg ~750ms\n        this.hex.move(...moves[Math.floor(Math.random() * moves.length)]);\n    }\n}\n","Array.prototype.shuffle = function () {\n    for (let i = 0; i < this.length; i++) {\n        let j = Math.floor(Math.random() * (i + 1));\n        [this[i], this[j]] = [this[j], this[i]];\n    }\n}\n\nvar Status = { WIN: 1, LOSS: -1, INDETERMINATE: 0 }\n\nclass Node {\n    constructor(hex, parent = undefined, moveIndex = undefined) {\n        this.parent = parent;\n        this.wins = 0;\n        this.games = 0;\n        this.moveIndex = moveIndex;\n        this.hex = hex.copy();\n        this.childMoves = [];\n        this.children = [];\n        this.status = Status.INDETERMINATE;\n        if (hex.gameOver) {\n            // It is a win for the parent\n            this.status = Status.WIN;\n        }\n        if (!this.hex.gameOver) {\n            for (let i = 0; i < this.hex.HEIGHT; i++) {\n                for (let j = 0; j < this.hex.WIDTH; j++) {\n                    if (this.hex.board[i][j] === 0) {\n                        this.childMoves.push([i, j]);\n                    }\n                }\n            }\n            this.childMoves.shuffle();\n        }\n    }\n    isLeaf() {\n        return this.childMoves.length === 0;\n    }\n    evaluate() {\n        if (this.status == Status.INDETERMINATE) {\n            return this.wins / this.games + Math.sqrt(Math.log(this.parent.games) / this.games);\n        }\n        return Infinity * this.status;\n    }\n    select() {\n        if (this.children.length === 0 || this.children.length < this.childMoves.length)\n            return this;\n        let best = this.children[0];\n        for (let child of this.children) {\n            if (child.evaluate() > best.evaluate()) {\n                best = child;\n            }\n        }\n        return best.select();\n    }\n    expand(games = 3) {\n        if (this.children.length === this.childMoves.length) {\n            for (let i = 0; i < games; i++) {\n                this.backpropagate(this.simulate());\n            }\n            return;\n        }\n        let move = this.childMoves[this.children.length];\n        let childHex = this.hex.copy();\n        childHex.move(...move);\n        let child = new Node(childHex, this, move);\n        this.children.push(child);\n        if (child.status === Status.WIN) {\n            this.status = Status.LOSS;\n        }\n        for (let i = 0; i < games; i++) {\n            child.backpropagate(child.simulate());\n        }\n        return child;\n    }\n    simulate() {\n        let moves = [...this.childMoves];\n        moves.shuffle();\n        for (let i = 0; i <= moves.length; i++) {\n            if (this.hex.gameOver) {\n                let winner = this.hex.winner;\n                for (let j = 0; j < i; j++) {\n                    this.hex.undo();\n                }\n                return winner;\n            }\n            this.hex.move(...moves[i]);\n        }\n    }\n    backpropagate(winner) {\n        this.games++;\n        if (this.parent !== undefined) {\n            this.wins += winner === this.parent.hex.currentPlayer;\n            this.parent.backpropagate(winner);\n        }\n    }\n}\n\nexport default class Mcts {\n    constructor(hex) {\n        this.hex = hex;\n        this.rootNode = new Node(hex);\n    }\n    bestMove(simulations = 2000) {\n        if (this.rootNode.gameOver) {\n            return;\n        }\n        while (simulations--) {\n            let node = this.rootNode.select();\n            node.expand();\n        }\n        let bestChild = this.rootNode.children[0];\n        for (let child of this.rootNode.children) {\n            if (child.games > bestChild.games) {\n                bestChild = child;\n            }\n        }\n        console.log(this.rootNode);\n        return bestChild.moveIndex;\n    }\n    move() {\n        let time = new Date().getTime();\n        let move = this.bestMove();\n        this.hex.move(...move);\n        time = new Date().getTime() - time;\n        console.log(time + \"ms\")\n    }\n}","import Hex from \"./Hex\";\nexport default class DarkHex extends Hex {\n    constructor(width, height) {\n        super(width, height);\n        this.view = [];\n        this.view[-1] = new Array(height);\n        this.view[1] = new Array(height);\n        for (let i = 0; i < height; i++) {\n            this.view[-1][i] = new Array(width).fill(0);\n            this.view[1][i] = new Array(width).fill(0);\n        }\n    }\n    copy() {\n        let hex = new Hex(this.WIDTH, this.HEIGHT);\n        hex.currentPlayer = this.currentPlayer;\n        hex.gameOver = this.gameOver;\n        hex.winner = this.winner;\n        for (let i = 0; i < this.height; i++) {\n            for (let j = 0; j < this.width; j++) {\n                hex.board[i][j] = this.view[this.currentPlayer][i][j];\n            }\n        }\n        return hex;\n    }\n    move(r, c) {\n        if (this.gameOver || !this.inBound(r, c)) {\n            return;\n        }\n        let taken = !super.move(r, c);\n        if (!taken) {\n            this.currentPlayer *= -1;\n        }\n        this.view[this.currentPlayer][r][c] = this.board[r][c];\n        if (!taken) {\n            this.currentPlayer *= -1;\n        }\n    }\n}","import React, { Component } from 'react'\nimport Hex from './Hex'\nimport AntiHex from './AntiHex'\nimport styles from './css/game.module.scss'\nimport RandomPlayer from './RandomPlayer'\nimport Mcts from './Mcts'\nimport DarkHex from './DarkHex'\n\n\nexport default class Game extends Component {\n    constructor(props) {\n        super(props)\n        this.canvasRef = React.createRef();\n        this.statusRef = React.createRef();\n        this.statusRef2 = React.createRef();\n        this.modeRef = React.createRef();\n        this.heightRef = React.createRef();\n        this.widthRef = React.createRef();\n        this.redRef = React.createRef();\n        this.blueRef = React.createRef();\n    }\n    isInteger(s) {\n        for (let i = 0; i < s.length; i++) {\n            if (!\"0123456789\".includes(s[i])) {\n                return false;\n            }\n        }\n        return s.length > 0 && parseInt(s) !== 0;\n    }\n    componentDidMount() {\n        this.canvas = this.canvasRef.current;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.WHITE = [255, 255, 255];\n        this.BLACK = [0, 0, 0];\n        this.RED = [255, 0, 0];\n        this.BLUE = [0, 0, 255];\n        this.interval = setInterval(() => {\n            this.update()\n            this.draw()\n        }, 1000 / 30);\n        let _this = this;\n        this.canvas.addEventListener('click', function (e) {\n            const rect = _this.canvas.getBoundingClientRect();\n            const ratioX = _this.canvas.width / rect.width;\n            const ratioY = _this.canvas.height / rect.height;\n            const x = ratioX * (e.clientX - rect.left);\n            const y = ratioY * (e.clientY - rect.top);\n            _this.mousePressed(x, y)\n        })\n    }\n    startGame() {\n        if (!this.isInteger(this.heightRef.current.value) || !this.isInteger(this.widthRef.current.value)) {\n            return;\n        }\n        this.aiRed = this.redRef.current.value;\n        this.aiBlue = this.blueRef.current.value;\n        let height = parseInt(this.heightRef.current.value);\n        let width = parseInt(this.widthRef.current.value);\n        this.mode = this.modeRef.current.value;\n        switch (this.mode) {\n            case \"normal\":\n                this.hex = new Hex(width, height);\n                break;\n            case \"anti\":\n                this.hex = new AntiHex(width, height);\n                break;\n            case \"dark\":\n                this.hex = new DarkHex(width, height);\n                break;\n        }\n        this.hexagons = new Array(this.hex.HEIGHT);\n        this.cellSize = this.canvas.width / (Math.max(this.hex.WIDTH, this.hex.HEIGHT) * 1.5 * 2);\n        for (let i = 0; i < this.hex.HEIGHT; i++) {\n            this.hexagons[i] = new Array(this.hex.WIDTH);\n            for (let j = 0; j < this.hex.WIDTH; j++) {\n                this.hexagons[i][j] = [];\n                let center = this.getCenter(i, j);\n                for (let k = 0; k < 6; k++) {\n                    let angle = k * Math.PI / 3 + Math.PI / 2;\n                    this.hexagons[i][j].push([center[0] + this.cellSize * Math.cos(angle), center[1] - this.cellSize * Math.sin(angle)]);\n                }\n            }\n        }\n        this.draw();\n    }\n    getCenter(row, col) {\n        let s60 = Math.sin(Math.PI / 3);\n        let x = this.cellSize * 1.5 + row * this.cellSize * s60 + col * 2 * this.cellSize * s60;\n        let y = this.cellSize * 1.5 + row * this.cellSize * 3 / 2;\n        return [x, y];\n    }\n    drawCell(row, col) {\n        this.ctx.strokeStyle = \"black\";\n        this.ctx.lineWidth = 2;\n        let points = this.hexagons[row][col];\n        this.ctx.beginPath();\n        for (let i = 0; i < 6; i++) {\n            this.ctx.moveTo(...points[i]);\n            this.ctx.lineTo(...points[(i + 1) % 6]);\n        }\n        this.ctx.stroke();\n        this.ctx.lineWidth = 5;\n        for (let i = 0; i < 6; i++) {\n            let coords = [[points[i][0], points[i][1]], [points[(i + 1) % 6][0], points[(i + 1) % 6][1]]];\n            let top = row === 0 && (i === 0 || i === 5);\n            let bottom = row === this.hex.HEIGHT - 1 && (i === 2 || i === 3);\n            let left = col === 0 && (i === 1 || i === 2);\n            let right = col === this.hex.WIDTH - 1 && (i === 4 || i === 5);\n            if (top || bottom) {\n                this.ctx.strokeStyle = \"red\";\n                this.ctx.beginPath();\n                this.ctx.moveTo(...coords[0]);\n                this.ctx.lineTo(...coords[1]);\n                this.ctx.stroke();\n            }\n            if (left || right) {\n                this.ctx.strokeStyle = \"blue\";\n                this.ctx.beginPath();\n                this.ctx.moveTo(...coords[0]);\n                this.ctx.lineTo(...coords[1]);\n                this.ctx.stroke();\n            }\n        }\n    }\n    draw() {\n        this.updatePlayer();\n        if (!this.hex) return;\n        this.ctx.fillStyle = \"white\";\n        this.ctx.rect(0, 0, this.canvas.width, this.canvas.height);\n        this.ctx.fill();\n        let board;\n        if (this.mode == \"dark\") {\n            if (this.aiRed == \"manual\" && this.aiRed != this.aiBlue) {\n                board = this.hex.view[1];\n            } else if (this.aiBlue == \"manual\" && this.aiRed != this.aiBlue) {\n                board = this.hex.view[-1];\n            } else {\n                board = this.hex.view[this.hex.currentPlayer];\n            }\n        } else {\n            board = this.hex.board;\n        }\n        for (let i = 0; i < this.hex.HEIGHT; i++) {\n            for (let j = 0; j < this.hex.WIDTH; j++) {\n                this.ctx.fillStyle = \"white\";\n                this.drawCell(i, j);\n                let center = this.getCenter(i, j);\n                let color;\n                switch (board[i][j]) {\n                    case 1:\n                        color = \"red\";\n                        break;\n                    case -1:\n                        color = \"blue\";\n                        break;\n                }\n                // For dark hex: reveal all cells at the end of the game\n                if (this.hex.gameOver && (this.hex.view[1][i][j] != this.hex.board[i][j] || this.hex.view[-1][i][j] != this.hex.board[i][j])) {\n                    switch (this.hex.board[i][j]) {\n                        case 1:\n                            color = \"rgba(255, 0, 0, 0.3)\"\n                            break;\n                        case -1:\n                            color = \"rgba(0, 0, 255, 0.3)\"\n                            break;\n                    }\n                }\n                if (color) {\n                    this.ctx.strokeStyle = \"black\"\n                    this.ctx.lineWidth = 5;\n                    this.ctx.beginPath();\n                    this.ctx.arc(...center, this.cellSize / 2, 0, 2 * Math.PI);\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color;\n                    this.ctx.fill();\n                }\n            }\n        }\n    }\n    updatePlayer() {\n        let status = this.statusRef.current;\n        let status2 = this.statusRef2.current;\n        if (!this.hex) {\n            status.textContent = status2.textContent = \"\";\n            return;\n        }\n        if (!this.hex.gameOver) {\n            status.textContent = `${this.hex.currentPlayer > 0 ? \"Red\" : \"Blue\"}`\n            status2.textContent = \"'s Turn\";\n            if (this.hex.currentPlayer > 0) {\n                status.classList.remove(styles.blue);\n                status.classList.add(styles.red);\n            } else {\n                status.classList.remove(styles.red);\n                status.classList.add(styles.blue);\n            }\n        } else {\n            status.textContent = `${this.hex.winner > 0 ? \"Red\" : \"Blue\"}`\n            status2.textContent = \" Wins\";\n            if (this.hex.winner > 0) {\n                status.classList.remove(styles.blue);\n                status.classList.add(styles.red);\n            } else {\n                status.classList.remove(styles.red);\n                status.classList.add(styles.blue);\n            }\n        }\n    }\n    update() {\n        this.move();\n    }\n    move() {\n        if (!this.hex || this.hex.gameOver) return;\n        let playerString = this.hex.currentPlayer == 1 ? this.aiRed : this.aiBlue;\n        let playerClass;\n        if (playerString === \"manual\") {\n            if (this.manualMove) {\n                this.hex.move(...this.manualMove);\n                this.manualMove = null;\n            }\n            return;\n        }\n        switch (playerString) {\n            case \"random\":\n                playerClass = RandomPlayer;\n                break;\n            case \"mcts\":\n                playerClass = Mcts;\n                break;\n        }\n        let player = new playerClass(this.hex);\n        player.move();\n    }\n    undo(times = 1) {\n        if (!this.hex) return;\n        for (let i = 0; i < times; i++) {\n            this.hex.undo();\n        }\n    }\n    getCell(x, y) {\n        if (!this.hex) return;\n        for (let i = 0; i < this.hex.HEIGHT; i++) {\n            for (let j = 0; j < this.hex.WIDTH; j++) {\n                let center = this.getCenter(i, j);\n                if ((x - center[0]) ** 2 + (y - center[1]) ** 2 <= 3 / 4 * this.cellSize ** 2) {\n                    return [i, j];\n                }\n            }\n        }\n    }\n    mousePressed(x, y) {\n        let cellCoords = this.getCell(x, y);\n        if (cellCoords === undefined || this.hex.gameOver) return;\n        this.manualMove = cellCoords;\n    }\n    render() {\n        return (\n            <div class={styles.container}>\n                <div class={styles.controlsContainer}>\n                    <div class={styles.controls}>\n                        <h1>Hex</h1>\n                        <h2>Aaron He</h2>\n                        <h3><a href=\"https://aaronhe7.github.io/hex\">aaronhe7.github.io/hex</a></h3>\n                        <label for=\"mode\">Mode:</label>\n                        <select name=\"mode\" id=\"mode\" ref={this.modeRef}>\n                            <option value=\"normal\">Normal</option>\n                            <option value=\"anti\">Anti Hex</option>\n                            <option value=\"dark\">Dark Hex</option>\n                        </select>\n                        <br />\n                        <label for=\"height\">Height:</label>\n                        <input type=\"number\" min=\"1\" name=\"height\" id=\"height\" ref={this.heightRef} defaultValue=\"6\" />\n                        <label for=\"width\">Width:</label>\n                        <input type=\"number\" min=\"1\" name=\"width\" id=\"width\" ref={this.widthRef} defaultValue=\"6\" />\n                        <br />\n                        <label for=\"red\">Red:</label>\n                        <select name=\"red\" id=\"red\" ref={this.redRef}>\n                            <option value=\"manual\">Manual</option>\n                            <option value=\"random\">Random</option>\n                            <option value=\"mcts\">MCTS</option>\n                        </select>\n                        <label for=\"blue\">Blue:</label>\n                        <select name=\"blue\" id=\"blue\" ref={this.blueRef}>\n                            <option value=\"manual\">Manual</option>\n                            <option value=\"random\">Random</option>\n                            <option value=\"mcts\">MCTS</option>\n                        </select>\n                        <br />\n                        <button onClick={() => this.startGame()}>Start game</button>\n                        <br />\n                        <div class={styles.undoButtons}>\n                            <button onClick={() => this.undo()} class={styles.undoButton}>Undo</button>\n                            <button onClick={() => this.undo(2)}>Undo 2</button>\n                        </div>\n                    </div>\n                </div>\n                <div class={styles.game}>\n                    <span ref={this.statusRef} className={`${styles.status} ${styles.statusRef}`}></span>\n                    <span ref={this.statusRef2} className={styles.status}></span>\n                    <br />\n                    <canvas ref={this.canvasRef} width=\"2400\" height=\"1600\" style={{ width: \"70vw\" }}></canvas>\n                </div >\n            </div>\n        )\n    }\n}\n","import Game from './Game'\n\nfunction App() {\n  return (\n    <Game />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}